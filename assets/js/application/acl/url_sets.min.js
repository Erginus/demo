$.blockUI.defaults.message='<img alt="Processing..." src="'+base_url+'assets/images/ajax-loading.gif" />';$.blockUI.defaults.css.border="none";$.blockUI.defaults.css.backgroundColor="none";$.blockUI.defaults.overlayCSS.opacity=.1;$.blockUI.defaults.fadeOut=100;
$(function(){$(".sortable-list").sortable({connectWith:".sortable-list",containment:"#drag_container",placeholder:"placeholder",receive:function(b,c){a.layout();$("#drag_container").block();$.post(base_url+"acl/update-url-set",{url_id:c.item.attr("id"),url_set_id:c.item.closest("ul").attr("id")},function(a){"1"===a?$("#drag_container").unblock():document.location.href=""})}});var a=new Masonry("#masonry",{itemSelector:".masonry"});a.layout()});
$("#add_url_set").click(function(){bootbox.dialog({message:"<form id='new_url_set_form'><div class='form-group'><input class='form-control input-lg' type='text' id='url_set_name' name='url_set_name' placeholder='New URL Set' value='' /></div></form>",title:"Add New URL Set",buttons:{cancel:{label:"Cancel",className:"btn-default",callback:function(){document.location.href=""}},main:{label:"Add URL Set",className:"btn-primary",callback:function(){$(".modal-content").block();$.post(base_url+"acl/add-url-set",
{url_set_name:$("#url_set_name").val()},function(a){"0"===a?$("#new_url_set_form").before('<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>Error Creating New URL Set !!!</div>'):"1"===a?($("#new_url_set_form").before('<div class="alert alert-success alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>New URL Set Created Successfully !!!</div>'),setTimeout(function(){bootbox.hideAll();
document.location.href=""},3500)):$("#new_url_set_form").before('<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>'+a+"</div>");$(".modal-content").unblock();$(".alert-danger").is(":visible")&&setTimeout(function(){$(".alert-danger").fadeOut()},2E3)});return!1}}}})});
function delete_url_set(a,b){bootbox.dialog({message:'<div id="delete_url_set_confirm" class="alert alert-info"><i class="fa fa-info-circle"></i> URL Sets having absolutely NO URLs can only be deleted.</div>Do You want to delete URL Set : '+$(a).parent("h3").text(),title:"Delete URL Set Confirmation",buttons:{cancel:{label:"Cancel",className:"btn-default",callback:function(){document.location.href=""}},main:{label:"Delete URL Set",className:"btn-primary",callback:function(){$(".modal-content").block();
$.post(base_url+"acl/delete-url-set",{url_set_id:b},function(a){"0"===a?$("#delete_url_set_confirm").before('<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>Error Deleting URL Set !!!</div>'):"1"===a?($("#delete_url_set_confirm").before('<div class="alert alert-success alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>URL Set Deleted Successfully !!!</div>'),
setTimeout(function(){bootbox.hideAll();document.location.href=""},3500)):$("#delete_url_set_confirm").before('<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>'+a+"</div>");$(".modal-content").unblock();$(".alert-danger").is(":visible")&&setTimeout(function(){$(".alert-danger").fadeOut()},2E3)});return!1}}}})};
